<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Satellite Energy Ratio Simulation</title>
    <meta name="description" content="Interactive simulation showing PE/KE ratio = -2 for circular orbits">
    <link rel="stylesheet" href="styles.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <div class="app-container">
        <header class="header">
            <a href="../index.html" class="menu-btn">‚Üê Main Menu</a>
            <h1>üõ∞Ô∏è Satellite Energy Ratio</h1>
            <p class="subtitle">Potential Energy to Kinetic Energy in Circular Orbits</p>
        </header>

        <main class="main-content">
            <!-- Orbit Visualization -->
            <div class="orbit-view">
                <canvas id="orbit-canvas"></canvas>
                <div class="orbit-info" id="orbit-info">
                    <div class="info-item">
                        <span class="label">Orbital Radius:</span>
                        <span class="value" id="radius-display">10,000 km</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Velocity:</span>
                        <span class="value" id="velocity-display">6.31 km/s</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Period:</span>
                        <span class="value" id="period-display">2.77 hours</span>
                    </div>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="right-panel">
                <!-- Problem Statement -->
                <div class="problem-box">
                    <h3>üìã Problem</h3>
                    <p>A satellite is orbiting Earth in a <strong>circular orbit</strong>.</p>
                    <p class="question">What is the ratio of <strong>Potential Energy (PE)</strong> to <strong>Kinetic
                            Energy (KE)</strong>?</p>
                </div>

                <!-- Controls -->
                <div class="control-panel">
                    <h3>üéÆ Controls</h3>
                    <div class="button-group">
                        <button id="play-btn" class="control-btn primary">
                            <span class="icon">‚ñ∂</span> Play
                        </button>
                        <button id="pause-btn" class="control-btn" disabled>
                            <span class="icon">‚è∏</span> Pause
                        </button>
                        <button id="reset-btn" class="control-btn">
                            <span class="icon">‚Ü∫</span> Reset
                        </button>
                        <button id="derive-btn" class="control-btn highlight">
                            <span class="icon">üìê</span> Show Derivation
                        </button>
                    </div>

                    <div class="slider-group">
                        <label>
                            Orbital Radius:
                            <input type="range" id="radius-slider" min="7000" max="42000" value="10000" step="500">
                            <span id="radius-value">10,000 km</span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <label class="toggle">
                            <input type="checkbox" id="show-vectors" checked>
                            <span>Show Vectors</span>
                        </label>
                        <label class="toggle">
                            <input type="checkbox" id="show-trail" checked>
                            <span>Show Orbit Trail</span>
                        </label>
                    </div>
                </div>

                <!-- Energy Dashboard -->
                <div class="energy-dashboard">
                    <h3>‚ö° Energy Values</h3>
                    <div class="energy-bars">
                        <div class="energy-bar-container">
                            <div class="bar-label">KE</div>
                            <div class="bar-track positive">
                                <div class="bar-fill ke-bar" id="ke-bar"></div>
                            </div>
                            <div class="bar-value" id="ke-value">+1.99√ó10¬π‚Å∞ J</div>
                        </div>
                        <div class="energy-bar-container">
                            <div class="bar-label">PE</div>
                            <div class="bar-track negative">
                                <div class="bar-fill pe-bar" id="pe-bar"></div>
                            </div>
                            <div class="bar-value" id="pe-value">-3.98√ó10¬π‚Å∞ J</div>
                        </div>
                        <div class="energy-bar-container total">
                            <div class="bar-label">TE</div>
                            <div class="bar-track total">
                                <div class="bar-fill te-bar" id="te-bar"></div>
                            </div>
                            <div class="bar-value" id="te-value">-1.99√ó10¬π‚Å∞ J</div>
                        </div>
                    </div>

                    <div class="ratio-display">
                        <span class="ratio-label">PE / KE =</span>
                        <span class="ratio-value" id="ratio-value">-2.00</span>
                    </div>
                </div>
            </div>

            <!-- Bottom Panel -->
            <div class="bottom-panel">
                <!-- Formula Derivation -->
                <div class="derivation-panel" id="derivation-panel">
                    <h3>üìê Step-by-Step Derivation</h3>
                    <div class="derivation-steps">
                        <div class="deriv-step" data-step="1">
                            <span class="step-num">1</span>
                            <div class="step-content">
                                <div class="step-title">Circular Orbit Condition</div>
                                <div class="step-formula">\[ \frac{mv^2}{r} = \frac{GMm}{r^2} \implies v^2 =
                                    \frac{GM}{r} \]</div>
                            </div>
                        </div>
                        <div class="deriv-step" data-step="2">
                            <span class="step-num">2</span>
                            <div class="step-content">
                                <div class="step-title">Kinetic Energy</div>
                                <div class="step-formula">\[ KE = \frac{1}{2}mv^2 = \frac{1}{2}m \cdot \frac{GM}{r} =
                                    \frac{GMm}{2r} \]</div>
                            </div>
                        </div>
                        <div class="deriv-step" data-step="3">
                            <span class="step-num">3</span>
                            <div class="step-content">
                                <div class="step-title">Potential Energy</div>
                                <div class="step-formula">\[ PE = -\frac{GMm}{r} \]</div>
                            </div>
                        </div>
                        <div class="deriv-step highlight" data-step="4">
                            <span class="step-num">4</span>
                            <div class="step-content">
                                <div class="step-title">Calculate Ratio</div>
                                <div class="step-formula">\[ \frac{PE}{KE} = \frac{-\frac{GMm}{r}}{\frac{GMm}{2r}} =
                                    \frac{-GMm}{r} \times \frac{2r}{GMm} = \boxed{-2} \]</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quiz -->
                <div class="quiz-panel">
                    <h3>üéØ Multiple Choice</h3>
                    <p>What is the ratio PE/KE for a satellite in circular orbit?</p>
                    <div class="quiz-options" id="quiz-options">
                        <button class="quiz-option" data-answer="wrong">A) -1</button>
                        <button class="quiz-option" data-answer="wrong">B) -1/2</button>
                        <button class="quiz-option" data-answer="wrong">C) +2</button>
                        <button class="quiz-option" data-answer="correct">D) -2</button>
                    </div>
                    <div class="quiz-feedback" id="quiz-feedback"></div>
                </div>

                <!-- Pie Chart -->
                <div class="pie-panel">
                    <h3>üìä Energy Proportions</h3>
                    <canvas id="pie-canvas" width="200" height="200"></canvas>
                    <div class="pie-legend">
                        <div class="legend-item">
                            <span class="legend-color ke"></span>
                            <span>|KE| = 1 part</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color pe"></span>
                            <span>|PE| = 2 parts</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>Satellite Energy Ratio Simulation | Physics Education Tool</p>
        </footer>
    </div>

    <script src="simulation.js"></script>
</body>

</html>