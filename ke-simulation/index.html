<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KE Reduction Problem</title>
    <meta name="description" content="Find the height where kinetic energy becomes half of initial value">
    <link rel="stylesheet" href="styles.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <div class="app-container">
        <header class="header">
            <a href="../index.html" class="menu-btn">‚Üê Main Menu</a>
            <h1>‚ö° Kinetic Energy Halving</h1>
            <p class="subtitle">Body Thrown Upward: v‚ÇÄ = 4 m/s, g = 10 m/s¬≤</p>
        </header>

        <main class="main-content">
            <!-- Motion Canvas -->
            <div class="motion-view">
                <canvas id="motion-canvas"></canvas>
                <div class="motion-stats">
                    <div class="stat-row">
                        <span class="stat-label">Height:</span>
                        <span class="stat-value" id="height-display">0.00 m</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Velocity:</span>
                        <span class="stat-value" id="velocity-display">4.00 m/s</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Time:</span>
                        <span class="stat-value" id="time-display">0.00 s</span>
                    </div>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="right-panel">
                <!-- Problem Statement -->
                <div class="problem-box">
                    <h3>üìã Problem</h3>
                    <p>A body is thrown <strong>vertically upward</strong> with initial velocity <strong>v‚ÇÄ = 4
                            m/s</strong>.</p>
                    <p class="question">At what height will KE reduce to <strong>half</strong> of initial KE?</p>
                    <p class="given">Given: g = 10 m/s¬≤</p>
                </div>

                <!-- Controls -->
                <div class="control-panel">
                    <h3>üéÆ Controls</h3>
                    <div class="button-group">
                        <button id="play-btn" class="control-btn primary">
                            <span class="icon">‚ñ∂</span> Play
                        </button>
                        <button id="pause-btn" class="control-btn" disabled>
                            <span class="icon">‚è∏</span> Pause
                        </button>
                        <button id="reset-btn" class="control-btn">
                            <span class="icon">‚Ü∫</span> Reset
                        </button>
                        <button id="target-btn" class="control-btn highlight">
                            <span class="icon">üéØ</span> Jump to ¬ΩKE
                        </button>
                    </div>

                    <div class="speed-group">
                        <label>Speed:</label>
                        <div class="speed-buttons">
                            <button class="speed-btn" data-speed="0.25">0.25√ó</button>
                            <button class="speed-btn active" data-speed="0.5">0.5√ó</button>
                            <button class="speed-btn" data-speed="1">1√ó</button>
                        </div>
                    </div>
                </div>

                <!-- Energy Bars -->
                <div class="energy-panel">
                    <h3>‚ö° Energy Analysis</h3>
                    <div class="energy-bars">
                        <div class="bar-row">
                            <span class="bar-label">KE</span>
                            <div class="bar-track">
                                <div class="bar-fill ke-bar" id="ke-bar"></div>
                                <div class="target-line"></div>
                            </div>
                            <span class="bar-value" id="ke-value">8.00 J</span>
                        </div>
                        <div class="bar-row">
                            <span class="bar-label">PE</span>
                            <div class="bar-track">
                                <div class="bar-fill pe-bar" id="pe-bar"></div>
                            </div>
                            <span class="bar-value" id="pe-value">0.00 J</span>
                        </div>
                        <div class="bar-row total">
                            <span class="bar-label">Total</span>
                            <div class="bar-track">
                                <div class="bar-fill total-bar"></div>
                            </div>
                            <span class="bar-value" id="total-value">8.00 J</span>
                        </div>
                    </div>

                    <div class="ke-ratio-display">
                        <span>KE / KE‚ÇÄ = </span>
                        <span class="ratio-value" id="ke-ratio">1.00</span>
                        <span class="target-note">(Target: 0.50)</span>
                    </div>
                </div>
            </div>

            <!-- Bottom Panel -->
            <div class="bottom-panel">
                <!-- Derivation -->
                <div class="derivation-panel" id="derivation-panel">
                    <h3>üìê Solution</h3>
                    <div class="derivation-steps">
                        <div class="deriv-step" data-step="1">
                            <span class="step-num">1</span>
                            <div class="step-content">
                                <div class="step-title">Initial KE</div>
                                <div class="step-formula">\[ KE_0 = \frac{1}{2}mv_0^2 = \frac{1}{2}m(4)^2 = 8m \text{ J}
                                    \]</div>
                            </div>
                        </div>
                        <div class="deriv-step" data-step="2">
                            <span class="step-num">2</span>
                            <div class="step-content">
                                <div class="step-title">Target KE</div>
                                <div class="step-formula">\[ KE = \frac{KE_0}{2} = 4m \text{ J} \]</div>
                            </div>
                        </div>
                        <div class="deriv-step" data-step="3">
                            <span class="step-num">3</span>
                            <div class="step-content">
                                <div class="step-title">Energy Conservation</div>
                                <div class="step-formula">\[ KE_0 = KE + PE \implies 8m = 4m + mgh \]</div>
                            </div>
                        </div>
                        <div class="deriv-step highlight" data-step="4">
                            <span class="step-num">4</span>
                            <div class="step-content">
                                <div class="step-title">Solve for h</div>
                                <div class="step-formula">\[ mgh = 4m \implies h = \frac{4}{g} = \frac{4}{10} =
                                    \boxed{0.4 \text{ m}} \]</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quiz -->
                <div class="quiz-panel">
                    <h3>üéØ Answer</h3>
                    <p>Height where KE = ¬ΩKE‚ÇÄ:</p>
                    <div class="quiz-options" id="quiz-options">
                        <button class="quiz-option" data-answer="wrong">A) 4 m</button>
                        <button class="quiz-option" data-answer="wrong">B) 2 m</button>
                        <button class="quiz-option" data-answer="wrong">C) 1 m</button>
                        <button class="quiz-option" data-answer="correct">D) 0.4 m</button>
                    </div>
                    <div class="quiz-feedback" id="quiz-feedback"></div>
                </div>

                <!-- Energy Graph -->
                <div class="graph-panel">
                    <h3>üìà Energy vs Height</h3>
                    <canvas id="graph-canvas" width="280" height="180"></canvas>
                    <div class="graph-legend">
                        <span class="legend-ke">‚óè KE</span>
                        <span class="legend-pe">‚óè PE</span>
                        <span class="legend-total">‚óè Total</span>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>KE Reduction Simulation | v‚ÇÄ = 4 m/s ‚Üí h(¬ΩKE) = 0.4 m</p>
        </footer>
    </div>

    <script src="simulation.js"></script>
</body>

</html>